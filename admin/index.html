<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - HGARUNA News</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="admin.css" rel="stylesheet">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <img src="../assets/img/logo3.png" alt="HGARUNA" class="logo">
                <h3>Panel Admin</h3>
            </div>
            
            <ul class="nav-links">
                <li class="nav-item active" data-tab="dashboard">
                    <i class="bi bi-speedometer2"></i>
                    <span>Dashboard</span>
                </li>
                <li class="nav-item" data-tab="article-generator">
                    <i class="bi bi-pencil-square"></i>
                    <span>Generador de Artículos</span>
                </li>
                <li class="nav-item" data-tab="sitemap-manager">
                    <i class="bi bi-diagram-3"></i>
                    <span>Gestor de Sitemaps</span>
                </li>
                <li class="nav-item" data-tab="seo-analyzer">
                    <i class="bi bi-search"></i>
                    <span>Analizador SEO</span>
                </li>
                <li class="nav-item" data-tab="settings">
                    <i class="bi bi-gear"></i>
                    <span>Configuración</span>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-header">
                <button id="sidebar-toggle" class="sidebar-toggle">
                    <i class="bi bi-list"></i>
                </button>
                <div class="header-info">
                    <h1>Panel de Administración</h1>
                    <p>Gestiona tu sitio web de noticias</p>
                </div>
                <div class="header-actions">
                    <span class="status-indicator online">
                        <i class="bi bi-circle-fill"></i>
                        Conectado
                    </span>
                </div>
            </header>

            <!-- Dashboard Tab -->
            <div id="dashboard" class="tab-content active">
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="bi bi-newspaper"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-articles">0</h3>
                            <p>Artículos Totales</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="bi bi-eye"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-views">0</h3>
                            <p>Visitas Totales</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="bi bi-graph-up"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="seo-score">0%</h3>
                            <p>Puntuación SEO</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="bi bi-robot"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="ai-articles">0</h3>
                            <p>Artículos IA</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-charts">
                    <div class="chart-container">
                        <h3>Actividad Reciente</h3>
                        <div id="activity-chart" class="chart-placeholder">
                            <i class="bi bi-bar-chart"></i>
                            <p>Gráfico de actividad</p>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <h3>Rendimiento SEO</h3>
                        <div id="seo-chart" class="chart-placeholder">
                            <i class="bi bi-pie-chart"></i>
                            <p>Análisis SEO</p>
                        </div>
                    </div>
                </div>

                <div class="recent-activity">
                    <h3>Actividad Reciente</h3>
                    <div id="activity-list" class="activity-list">
                        <div class="activity-item">
                            <i class="bi bi-plus-circle text-success"></i>
                            <div class="activity-content">
                                <p>Artículo creado: "Nuevas tendencias en tecnología"</p>
                                <small>Hace 2 horas</small>
                            </div>
                        </div>
                        <div class="activity-item">
                            <i class="bi bi-arrow-up-circle text-primary"></i>
                            <div class="activity-content">
                                <p>Sitemap actualizado</p>
                                <small>Hace 4 horas</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Article Generator Tab -->
            <div id="article-generator" class="tab-content">
                <div class="tab-header">
                    <h2>Generador de Artículos con IA</h2>
                    <p>Crea artículos optimizados para SEO usando ChatGPT</p>
                </div>

                <div class="generator-container">
                    <div class="generator-form">
                        <div class="form-group">
                            <label for="article-title">Título del Artículo</label>
                            <input type="text" id="article-title" class="form-control" placeholder="Ingresa el título del artículo">
                        </div>

                        <div class="form-group">
                            <label for="article-category">Categoría</label>
                            <select id="article-category" class="form-control">
                                <option value="">Selecciona una categoría</option>
                                <option value="tecnologia">Tecnología</option>
                                <option value="deportes">Deportes</option>
                                <option value="cultura">Cultura</option>
                                <option value="autos">Autos</option>
                                <option value="politica">Política</option>
                                <option value="internacional">Internacional</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="article-keywords">Palabras Clave (separadas por comas)</label>
                            <input type="text" id="article-keywords" class="form-control" placeholder="SEO, noticias, tecnología, innovación">
                        </div>

                        <div class="form-group">
                            <label for="article-tone">Tono del Artículo</label>
                            <select id="article-tone" class="form-control">
                                <option value="informativo">Informativo</option>
                                <option value="analitico">Analítico</option>
                                <option value="entrevista">Entrevista</option>
                                <option value="opinion">Opinión</option>
                                <option value="noticia">Noticia</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="article-length">Longitud del Artículo</label>
                            <select id="article-length" class="form-control">
                                <option value="corto">Corto (300-500 palabras)</option>
                                <option value="medio" selected>Medio (800-1200 palabras)</option>
                                <option value="largo">Largo (1500-2000 palabras)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="article-prompt">Prompt Personalizado (opcional)</label>
                            <textarea id="article-prompt" class="form-control" rows="3" placeholder="Instrucciones específicas para la IA..."></textarea>
                        </div>

                        <div class="form-actions">
                            <button id="generate-article" class="btn btn-primary">
                                <i class="bi bi-magic"></i>
                                Generar Artículo
                            </button>
                            <button id="preview-article" class="btn btn-secondary" disabled>
                                <i class="bi bi-eye"></i>
                                Vista Previa
                            </button>
                        </div>
                    </div>

                    <div class="generator-output">
                        <div class="output-header">
                            <h3>Artículo Generado</h3>
                            <div class="output-actions">
                                <button id="copy-article" class="btn btn-sm btn-outline-primary" disabled>
                                    <i class="bi bi-clipboard"></i>
                                    Copiar
                                </button>
                                <button id="download-article" class="btn btn-sm btn-outline-success" disabled>
                                    <i class="bi bi-download"></i>
                                    Descargar
                                </button>
                            </div>
                        </div>
                        
                        <div id="article-output" class="article-output">
                            <div class="placeholder-content">
                                <i class="bi bi-file-text"></i>
                                <p>El artículo generado aparecerá aquí</p>
                            </div>
                        </div>

                        <div id="seo-analysis" class="seo-analysis" style="display: none;">
                            <h4>Análisis SEO</h4>
                            <div class="seo-metrics">
                                <div class="seo-metric">
                                    <span class="metric-label">Densidad de palabras clave:</span>
                                    <span class="metric-value" id="keyword-density">-</span>
                                </div>
                                <div class="seo-metric">
                                    <span class="metric-label">Longitud del artículo:</span>
                                    <span class="metric-value" id="article-word-count">-</span>
                                </div>
                                <div class="seo-metric">
                                    <span class="metric-label">Puntuación SEO:</span>
                                    <span class="metric-value" id="seo-score-article">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sitemap Manager Tab -->
            <div id="sitemap-manager" class="tab-content">
                <div class="tab-header">
                    <h2>Gestor de Sitemaps</h2>
                    <p>Gestiona y optimiza los sitemaps de tu sitio web</p>
                </div>

                <div class="sitemap-container">
                    <div class="sitemap-controls">
                        <button id="generate-sitemap" class="btn btn-primary">
                            <i class="bi bi-diagram-3"></i>
                            Generar Sitemap
                        </button>
                        <button id="validate-sitemap" class="btn btn-secondary">
                            <i class="bi bi-check-circle"></i>
                            Validar Sitemap
                        </button>
                        <button id="submit-sitemap" class="btn btn-success">
                            <i class="bi bi-upload"></i>
                            Enviar a Google
                        </button>
                    </div>

                    <div class="sitemap-stats">
                        <div class="stat-item">
                            <h4>URLs Totales</h4>
                            <span id="total-urls">0</span>
                        </div>
                        <div class="stat-item">
                            <h4>Última Actualización</h4>
                            <span id="last-update">Nunca</span>
                        </div>
                        <div class="stat-item">
                            <h4>Estado</h4>
                            <span id="sitemap-status" class="status-badge pending">Pendiente</span>
                        </div>
                    </div>

                    <div class="sitemap-content">
                        <div class="sitemap-preview">
                            <h3>Vista Previa del Sitemap</h3>
                            <div id="sitemap-preview" class="preview-content">
                                <div class="placeholder-content">
                                    <i class="bi bi-file-earmark-text"></i>
                                    <p>El contenido del sitemap aparecerá aquí</p>
                                </div>
                            </div>
                        </div>

                        <div class="sitemap-urls">
                            <h3>URLs Incluidas</h3>
                            <div id="urls-list" class="urls-container">
                                <div class="placeholder-content">
                                    <i class="bi bi-list-ul"></i>
                                    <p>Lista de URLs aparecerá aquí</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SEO Analyzer Tab -->
            <div id="seo-analyzer" class="tab-content">
                <div class="tab-header">
                    <h2>Analizador SEO</h2>
                    <p>Analiza y optimiza el SEO de tu sitio web</p>
                </div>

                <div class="seo-container">
                    <div class="seo-input">
                        <div class="form-group">
                            <label for="seo-url">URL a Analizar</label>
                            <input type="url" id="seo-url" class="form-control" placeholder="https://es.hgaruna.org/">
                        </div>
                        <button id="analyze-seo" class="btn btn-primary">
                            <i class="bi bi-search"></i>
                            Analizar SEO
                        </button>
                    </div>

                    <div class="seo-results" id="seo-results" style="display: none;">
                        <div class="seo-score-overview">
                            <div class="score-circle">
                                <div class="score-number" id="overall-seo-score">0</div>
                                <div class="score-label">Puntuación SEO</div>
                            </div>
                        </div>

                        <div class="seo-metrics-grid">
                            <div class="metric-card">
                                <h4>Meta Tags</h4>
                                <div class="metric-status" id="meta-tags-status">
                                    <i class="bi bi-check-circle text-success"></i>
                                    <span>Correcto</span>
                                </div>
                            </div>
                            
                            <div class="metric-card">
                                <h4>Encabezados</h4>
                                <div class="metric-status" id="headings-status">
                                    <i class="bi bi-exclamation-triangle text-warning"></i>
                                    <span>Mejorable</span>
                                </div>
                            </div>
                            
                            <div class="metric-card">
                                <h4>Imágenes</h4>
                                <div class="metric-status" id="images-status">
                                    <i class="bi bi-check-circle text-success"></i>
                                    <span>Correcto</span>
                                </div>
                            </div>
                            
                            <div class="metric-card">
                                <h4>Velocidad</h4>
                                <div class="metric-status" id="speed-status">
                                    <i class="bi bi-speedometer2 text-info"></i>
                                    <span>Rápido</span>
                                </div>
                            </div>
                        </div>

                        <div class="seo-recommendations">
                            <h3>Recomendaciones</h3>
                            <div id="seo-recommendations-list" class="recommendations-list">
                                <!-- Las recomendaciones se insertarán aquí -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div id="settings" class="tab-content">
                <div class="tab-header">
                    <h2>Configuración</h2>
                    <p>Configura las opciones del panel de administración</p>
                </div>

                <div class="settings-container">
                    <div class="settings-section">
                        <h3>Configuración de API</h3>
                        <div class="form-group">
                            <label for="openai-api-key">OpenAI API Key</label>
                            <input type="password" id="openai-api-key" class="form-control" placeholder="sk-...">
                            <small class="form-text">Tu clave de API de OpenAI para generar artículos</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="google-search-console">Google Search Console</label>
                            <input type="text" id="google-search-console" class="form-control" placeholder="URL de tu sitio en Search Console">
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Configuración de Artículos</h3>
                        <div class="form-group">
                            <label for="default-category">Categoría por Defecto</label>
                            <select id="default-category" class="form-control">
                                <option value="tecnologia">Tecnología</option>
                                <option value="deportes">Deportes</option>
                                <option value="cultura">Cultura</option>
                                <option value="autos">Autos</option>
                                <option value="politica">Política</option>
                                <option value="internacional">Internacional</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="default-tone">Tono por Defecto</label>
                            <select id="default-tone" class="form-control">
                                <option value="informativo">Informativo</option>
                                <option value="analitico">Analítico</option>
                                <option value="entrevista">Entrevista</option>
                                <option value="opinion">Opinión</option>
                                <option value="noticia">Noticia</option>
                            </select>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Configuración de Sitemap</h3>
                        <div class="form-group">
                            <label for="sitemap-priority">Prioridad por Defecto</label>
                            <input type="number" id="sitemap-priority" class="form-control" min="0" max="1" step="0.1" value="0.5">
                        </div>
                        
                        <div class="form-group">
                            <label for="sitemap-changefreq">Frecuencia de Cambio</label>
                            <select id="sitemap-changefreq" class="form-control">
                                <option value="always">Siempre</option>
                                <option value="hourly">Cada hora</option>
                                <option value="daily" selected>Diario</option>
                                <option value="weekly">Semanal</option>
                                <option value="monthly">Mensual</option>
                                <option value="yearly">Anual</option>
                                <option value="never">Nunca</option>
                            </select>
                        </div>
                    </div>

                    <div class="settings-actions">
                        <button id="save-settings" class="btn btn-primary">
                            <i class="bi bi-check-circle"></i>
                            Guardar Configuración
                        </button>
                        <button id="reset-settings" class="btn btn-secondary">
                            <i class="bi bi-arrow-clockwise"></i>
                            Restablecer
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Loading Modal -->
    <div id="loading-modal" class="modal fade" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center">
                    <div class="spinner-border text-primary mb-3" role="status">
                        <span class="visually-hidden">Cargando...</span>
                    </div>
                    <h5 id="loading-message">Procesando...</h5>
                    <p id="loading-description">Por favor espera mientras se completa la operación</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="modal fade" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">¡Éxito!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p id="success-message">Operación completada exitosamente</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="error-modal" class="modal fade" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Error</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p id="error-message">Ha ocurrido un error</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="config.js"></script>
    <script src="admin.js"></script>
    <script src="article-generator.js"></script>
    <script src="sitemap-manager.js"></script>
    <script src="seo-analyzer.js"></script>
</body>
</html> 